%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  DCAP.STY <September 3rd, 1988>
%  Macro for dropping and enlarging the first letter(s) of a paragraph.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  Macro written by David G. Cantor, and published Fri, 12 Feb 88, in
%  TeXhax, 1988 #16.  
%  Internet:  dgc@math.ucla.edu
%  UUCP:      ...!{ihnp4, randvax, sdcrdcf, ucbvax}!ucla-cs!dgc
%
%  Modified for use with LaTeX by Dominik Wujastyk, February 17, 1988
%  Internet:   dow@wjh12.harvard.edu
%  Bitnet:     dow@harvunxw.bitnet
%
%  Modified to add default font for dropped capitals and a command
%  to allow specifying the dropped capital font at any time by
%  John Walker, September 3rd, 1989.  I renamed my version as DCAP.STY
%  to avoid confusion with the original DROP.STY in the LaTeX style
%  archive.
%  Internet: kelvin@acad.uu.net
%  UUCP:     {sun,well,uunet}!acad!kelvin
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%  This LaTeX macro is for dropping and enlarging the first letter(s) of a
%  paragraph.  The argument may be one or more letters.
%
%  Here is an example of its usage:
%
%  \documentstyle[dcap]{article}
%  \begin{document}
%    \dcap{IN} THE BEGINNING God created the heaven and the earth.  Now the
%    earth was unformed and void, and darkness was upon the face of the
%    deep; and the spirit of God hovered over the face of the waters.
%  \end{document}
%
%  Which will produce something along these lines:
%
%  I I\  I THE BEGINNING God  created the heaven and  the earth.
%  I I \ I Now the earth was unformed and void, and darkness was
%  I I  \I upon the face of the deep; and the spirit of God hov-
%  ered over the face of the waters.

%  The  standard  TeX  and  LaTeX  fonts  do  not  contain  any  standard
%  characters ideally suited for use as  large  initial  capitals,  which
%  should  be about 32 points to look good with body copy in the 10 to 12
%  point range generated by LaTeX.  Within the standard  Computer  Modern
%  distribution  fonts,  the  best results are obtained by scaling one of
%  the CM fonts to  32  points.   This  results  in  a  slight,  but  not
%  objectionable,  degree  of roughness, particularly on a laser printer.
%  If you have access to PostScript  fonts,  a  wider  selection  of  TeX
%  fonts,  or  CM fonts generated in larger sizes, you can choose initial
%  capitals that look better still.

%  The default font used for dropped capitals is "cmr17 at  32pt",  which
%  looks  good  with  normal  roman text.  Another good-looking selection
%  within the standard CM family is "cmss17 at 32pt"; sans serif capitals
%  aren't  as  decorative  but  often  look  better when scaled to larger
%  sizes.

%  If you're using ArborText's version of TeX with PostScript fonts,  you
%  can  use  my personal favourite font for initial capitals, "psmtimr at
%  32pt".  Since it's a PostScript path-defined font, it scales  smoothly
%  to  the  requested size when printed.  (PREVIEW will display it from a
%  raster definition which looks  quite  jagged,  but  don't  panic;  the
%  printout will look great.)

%  To  specify the font for dropped capitals, use the "dcapfont" command,
%  which takes a font specification as its argument.  For example:

%      \dcapfont{cmss17 at 32pt} 
%  or: \dcapfont{psmtimr at 32pt} 

%  You may change the dropped capital font as many times as you  wish  in
%  the  document.   Each  invocation of the \dcap{} command uses the font
%  most recently specified by \dcapfont{}.  If no \dcapfont{} declaration
%  appears,  all  dropped  capitals  will  appear  in  the  default font,
%  equivalent to the declaration:

%  \dcapfont{cmr17 at 32pt}  

%  Finally, a stylistic point.  Notice how in the example the words  "THE
%  BEGINNING"   that   follow   the   dropped   capital  were  themselves
%  capitalised?  This virtually universal convention leads the  eye  into
%  the  paragraph  more naturally from the dropped capital (or capitals).
%  You'll find that remembering to do this makes the result  look  a  lot
%  more professional.

\typeout{DCAP.STY <September 3rd,  1989>}  
\newfont{\dcfont}{cmr17 at 32pt}
\def\dcap#1#2{{\noindent
    \setbox0\hbox{\dcfont #1}\setbox1\hbox{#2}\setbox2\hbox{(}%
    \count0=\ht0\advance\count0 by\dp0\count1\baselineskip
    \advance\count0 by-\ht1\advance\count0by\ht2
    \dimen1=.5ex\advance\count0by\dimen1\divide\count0 by\count1
    \advance\count0 by1\dimen0\wd0
    \advance\dimen0 by.25em\dimen1=\ht0\advance\dimen1 by-\ht1
    \global\hangindent\dimen0\global\hangafter-\count0
    \hskip-\dimen0\setbox0\hbox to\dimen0{\raise-\dimen1\box0\hss}%
    \dp0=0in\ht0=0in\box0}#2}
\newcommand{\dcapfont}[1]{\font \dcfont=#1\relax}
